<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>District Net Cash Analysis - Drill Down Report</title>
    <link rel="stylesheet" href="css/styles2.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Left Sidebar (20%) -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Filters & Options</h2>
            </div>
            
            <div class="sidebar-nav">
                <!-- View Level Filter -->
                <div class="sidebar-section">
                    <label class="sidebar-label" for="sidebar-level-select">View Level</label>
                    <select id="sidebar-level-select" class="sidebar-select">
                        <option value="region">Region</option>
                        <option value="district" selected>District</option>
                        <option value="account">Individual Accounts</option>
                    </select>
                </div>

                <!-- Filter by Region -->
                <div class="sidebar-section" id="region-filter-section" style="display: none;">
                    <label class="sidebar-label" for="region-filter">Filter by Region</label>
                    <select id="region-filter" class="sidebar-select">
                        <option value="">All Regions</option>
                    </select>
                </div>

                <!-- Filter by District -->
                <div class="sidebar-section" id="district-filter-section" style="display: none;">
                    <label class="sidebar-label" for="district-filter">Filter by District</label>
                    <select id="district-filter" class="sidebar-select">
                        <option value="">All Districts</option>
                    </select>
                </div>

                <!-- Sort Options -->
                <div class="sidebar-section">
                    <label class="sidebar-label" for="sort-select">Sort By</label>
                    <select id="sort-select" class="sidebar-select">
                        <option value="net_cash_desc">Net Cash (High to Low)</option>
                        <option value="net_cash_asc">Net Cash (Low to High)</option>
                        <option value="alpha_asc">Alphabetical (A-Z)</option>
                        <option value="alpha_desc">Alphabetical (Z-A)</option>
                    </select>
                </div>

                <!-- Apply Filters Button -->
                <div class="sidebar-section">
                    <button class="btn btn-primary" id="apply-filters-btn" style="width: 100%;">
                        Apply Filters
                    </button>
                    <button class="btn btn-secondary" id="reset-filters-btn" style="width: 100%; margin-top: 0.5rem;">
                        Reset Filters
                    </button>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <p>District Net Cash Analysis</p>
            </div>
        </aside>

        <!-- Main Content (85%) -->
        <main class="main-content">
            <header class="content-header">
                <h1>District Net Cash Analysis</h1>
                <p class="subtitle">Interactive Drill-Down & Roll-Up Report</p>
            </header>

            <!-- Breadcrumb Navigation -->
            <div class="breadcrumb-container">
                <nav class="breadcrumb" id="breadcrumb">
                    <span class="breadcrumb-item active" data-level="region">All Regions</span>
                </nav>
            </div>

            <!-- Controls -->
            <div class="controls-container">
                <div class="control-group">
                    <label for="level-select">View Level:</label>
                    <select id="level-select" class="form-select">
                        <option value="region">Region</option>
                        <option value="district" selected>District</option>
                        <option value="account">Individual Accounts</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <button class="btn btn-primary" id="refresh-btn">üîÑ Refresh Data</button>
                    <button class="btn btn-secondary" id="rollup-btn" style="display: none;">‚¨ÜÔ∏è Roll Up</button>
                </div>
            </div>

            <!-- Summary Cards -->
            <div class="stats-grid" id="summary-stats">
                <div class="stat-card">
                    <div class="stat-icon" style="background-color: rgba(75, 192, 192, 0.2);">üí∞</div>
                    <div class="stat-content">
                        <h3 id="total-cash">Loading...</h3>
                        <p>Total Net Cash</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background-color: rgba(54, 162, 235, 0.2);">üìä</div>
                    <div class="stat-content">
                        <h3 id="item-count">Loading...</h3>
                        <p id="item-label">Items</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background-color: rgba(153, 102, 255, 0.2);">üìà</div>
                    <div class="stat-content">
                        <h3 id="avg-cash">Loading...</h3>
                        <p>Average Net Cash</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background-color: rgba(255, 159, 64, 0.2);">üéØ</div>
                    <div class="stat-content">
                        <h3 id="current-level">District</h3>
                        <p>Current Level</p>
                    </div>
                </div>
            </div>

            <!-- Chart Container -->
            <div class="chart-container">
                <div class="chart-header">
                    <h2 id="chart-title">Net Cash by District</h2>
                    <div class="chart-info">
                        <span id="chart-subtitle">Click on any bar to drill down</span>
                    </div>
                </div>
                <div class="chart-wrapper" style="height: 600px;">
                    <canvas id="netCashChart"></canvas>
                </div>
            </div>

            <!-- Data Table -->
            <div class="data-table-container">
                <div class="table-header">
                    <h2>Detailed Data</h2>
                </div>
                <div class="table-wrapper">
                    <table id="data-table">
                        <thead id="table-head">
                            <tr>
                                <th>District</th>
                                <th>Region</th>
                                <th>Net Cash</th>
                                <th>Accounts</th>
                            </tr>
                        </thead>
                        <tbody id="table-body">
                            <tr>
                                <td colspan="4" class="loading">Loading data...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script src="js/reports.js"></script>
</body>
</html>
